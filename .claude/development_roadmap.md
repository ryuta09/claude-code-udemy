# Project Tracker 開発ロードマップ
 
## 概要
このドキュメントは、Project Trackerの段階的な開発を進めるためのロードマップです。
基盤やコア機能から作成し、ユーザーが画面上で動作確認しながら開発を進められるように構成されています。
 
## 前提条件
- [x] Next.js 15.4.2環境構築済み
- [x] Tailwind CSS v4設定済み
- [x] ClerkとSupabaseの環境変数設定済み（.env.local）
- [x] 要件定義書（.claude/requirements.md）確認済み

## フェーズ1: 基盤構築

### 1.1 プロジェクト基本設定
- [x] Tailwind CSSのデザインシステム適用
  - [x] グローバルCSSの設定（globals.css）
  - [x] カラーシステムの実装
  - [x] 共通コンポーネント用のスタイル定義
- [x] TypeScriptの型定義ファイル作成
 
### 1.2 データベース設計とセットアップ
- [x] Supabaseプロジェクトの初期化
- [x] データベーススキーマの作成
  - [x] categoriesテーブル（カテゴリ管理）
  - [x] work_logsテーブル（作業時間記録）
- [x] マイグレーションファイルの作成
- [x] Row Level Security (RLS)ポリシーの設定
- [x] ClerkとSupabaseの連携設定（カスタムヘッダー方式）
 
### 1.3 認証システムの実装
- [x] Clerk Providerの設定（app/providers.tsx）
- [x] 認証用Middlewareの設定（middleware.ts）
- [x] サインイン/サインアップページの作成
  - [x] /sign-in ページ
  - [x] /sign-up ページ
- [x] ユーザーメニューコンポーネントの作成
- [x] 認証状態の動作確認
- [x] Clerkサインイン時のSupabaseユーザー自動登録
 
## フェーズ2: 基本機能の実装
 
### 2.1 レイアウトとナビゲーション
- [x] 共通レイアウトの作成（app/layout.tsx）
- [x] ヘッダーコンポーネントの実装
  - [x] ロゴ
  - [x] ナビゲーションメニュー
  - [x] ユーザーボタン（UserButton）
- [x] トップページの作成（/）
  - [x] サービス紹介
  - [x] 機能説明
  - [x] CTAボタン
 
### 2.2 ダッシュボード基本構造
- [x] ダッシュボードレイアウトの作成（/dashboard）
- [x] サイドバーナビゲーションの実装
- [x] ダッシュボードメインエリアの構成
- [x] 基本的な時間表示コンポーネント
  - [x] 今日の作業時間
  - [x] 今週の作業時間
  - [x] 今月の作業時間
 
### 2.3 カテゴリ管理機能
- [x] カテゴリ一覧ページ（/dashboard/categories）
- [x] カテゴリ作成フォーム
  - [x] カテゴリ名入力
  - [x] バリデーション
- [x] カテゴリ編集機能
- [x] カテゴリ削除機能（確認ダイアログ付き）
- [x] カテゴリAPI Routes作成
  - [x] GET /api/categories
  - [x] POST /api/categories
  - [x] PATCH /api/categories/[id]
  - [x] DELETE /api/categories/[id]
 
## フェーズ3: 作業時間記録機能

### 3.1 タイマー機能の実装
- [x] タイマーコンポーネントの作成
  - [x] スタート/ストップボタン
  - [x] 一時停止/再開機能
  - [x] 経過時間表示（00:00:00形式）
  - [x] タイマー状態の管理

### 3.2 手動入力機能
- [x] 手動入力フォームの作成
  - [x] 日付選択
  - [x] 作業時間直接入力
  - [x] カテゴリ選択（必須）
  - [x] メモ入力（オプション）
- [x] フォームバリデーション
- [x] 入力確認と保存処理

### 3.3 作業記録API
- [x] 作業記録のCRUD API Routes
  - [x] POST /api/time-entries（新規作成）
  - [x] GET /api/time-entries（一覧取得）
  - [x] PUT /api/time-entries/[id]（更新）
  - [x] DELETE /api/time-entries/[id]（削除）
- [x] データベースとの連携実装
- [x] エラーハンドリング
 
## フェーズ4: データ表示と基本分析
 
### 4.1 作業履歴表示
- [ ] 作業履歴一覧コンポーネント
  - [ ] 日付ごとのグルーピング
  - [ ] カテゴリ表示（色付き）
  - [ ] 作業時間の表示
  - [ ] メモの表示
 
### 4.2 基本的な統計表示（無料版）
- [ ] 合計時間の計算と表示
  - [ ] 今日の合計
  - [ ] 今週の合計
  - [ ] 今月の合計
 
### 4.3 データエクスポート機能
- [ ] CSV形式でのエクスポート
- [ ] エクスポート範囲の選択
- [ ] ダウンロード処理の実装
 
## フェーズ5: プレミアム機能の実装
 
### 5.1 Clerk Billing設定
- [ ] 料金ページの作成（/pricing）
- [ ] PricingTableコンポーネントの実装（Clerk準拠）
- [ ] プラン比較表の作成
 
### 5.2 アクセス制御
- [ ] PlanProtectコンポーネントの実装（Clerkの組み込みコンポーネント）
- [ ] プレミアム機能へのアクセス制限
- [ ] アップグレード促進UI
 
### 5.3 高度な分析機能：期間切り替えUI （プレミアム）
- [ ] 期間切り替えUI
  - [ ] 日次/週次/月次/年次タブ
 
### 5.4 高度な分析機能：期間切り替えUI （プレミアム）
- [ ] グラフ表示機能（Recharts使用）
  - [ ] 円グラフ（カテゴリ別時間配分）
  - [ ] 棒グラフ（期間別比較）
  - [ ] ヒートマップ（作業密度）
 
### 5.5 高度な分析機能：期間切り替えUI （プレミアム）
- [ ] 生産性指標
  - [ ] 平均作業時間
  - [ ] 最も集中した時間帯
  - [ ] カテゴリごとの推移
 
### 5.6 レポート機能（プレミアム）
- [ ] PDFレポート生成
 
## 開発の進め方
 
1. **各タスクの開始前**
   - 関連するドキュメント（.claude/内）を確認
   - 必要な設計を検討
   - デザインシステムの該当部分を確認
 
2. **実装時**
   - デザインシステムに準拠したUIを作成
   - TypeScriptの型安全性を確保
   - エラーハンドリングを適切に実装
 
3. **タスク完了時**
   - 動作確認を実施
   - チェックマークを付ける
   - 次のタスクに必要な情報を整理
 
4. **フェーズ完了時**
   - 統合テストを実施
   - ユーザー視点での動作確認
   - 必要に応じてリファクタリング
 
## 備考
 
- 各フェーズは順番に進めることを推奨しますが、依存関係がないタスクは並行して進めることも可能です
- プレミアム機能の実装は、基本機能が安定してから着手することを推奨します
- 定期的にコミットを行い、進捗を記録してください
- 不明な点は要件定義書や各種ドキュメントを参照してください